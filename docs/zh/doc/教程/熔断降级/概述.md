

# 概述

## 什么是熔断降级

熔断降级指的是主调方能通过一定的手段感知被调方资源发生了故障，并主动将其屏蔽，并且根据业务场景需要可以走降级，从而防止故障蔓延，提升服务调用成功率的方式。熔断降级是微服务框架的必要功能，也是服务治理的重要环节之一。

## 熔断降级的实现方式

熔断降级一般分为故障熔断和服务降级两部分能力：

### 故障熔断

主调方统计被调方资源的成功及失败率或次数，达到阈值后，就把资源给熔断，一段时间内不再访问，后续根据灰度放量的结果进行恢复。

可被熔断的被调方资源一般分为以下类型：

- 单实例熔断：按单实例统计错误率，达到阈值则熔断，熔断后服务发现不再返回该实例。
- 实例分组熔断：按实例分组整体统计错误率，熔断后服务发现不再返回该分组下的所有实例。
- 接口熔断：按接口整体统计错误率，熔断后整个接口不可继续调用，需走降级逻辑。
- 服务熔断：按服务整体统计错误率，熔断后整个服务不可继续调用，需走降级逻辑。

### 服务降级

接口或者服务因为熔断原因不可继续访问时，需要走降级逻辑，保证业务能正常返回数据。一般常见的降级逻辑包括以下部分：

- 返回静态消息/页面：常见的降级手段，一般返回信息用于服务或者接口出现问题时的提示信息。
- 访问其他接口：转移访问到备用的接口。
- 访问其他服务：转移访问其他服务。