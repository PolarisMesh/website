
# 高可用架构设计

## 架构模型

北极星支持高可用的部署架构模型，支持多级的容灾部署架构（主备、跨可用区、跨地域）。

### 主备架构

![](图片/高可用架构设计/单可用区设计.png)

- polaris在单可用区内部署，一般至少部署2节点以保证可用性，客户端随机进行连接。
- 数据库主备都在同一可用区，通过异步的方式进行主备之间数据同步。
- polaris往主库中进行写，往备库进行读，保证读写分离

### 跨可用区架构

![](图片/高可用架构设计/跨可用区设计.png)

- polaris在多可用区内部署，每个可用区一般至少部署2节点以保证可用性，客户端就近随机挑选polaris进行连接。
- 数据库主集群在其中一个可用区部署，集群内部通过双写强同步的机制保证数据一致性。备集群部署在其他可用区，主备集群之间通过异步的方式进行数据同步。
- polaris往主集群写数据，往备集群进行读数据。

### 跨地域架构

![](图片/高可用架构设计/跨地域设计.png)

- polaris在多地域多可用区内部署，每个可用区一般至少部署2节点以保证可用性，客户端就近随机挑选polaris进行连接。
- 数据库主集群在其中一个可用区部署，集群内部通过双写强同步的机制保证数据一致性。备集群部署在其他可用区，主备集群之间通过异步的方式进行数据同步。
- polaris往主集群写数据，就近往备集群进行读数据。